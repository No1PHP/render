# Part 3 by Wang Zhining

This is the facial 3D rendering mobile front end part code. 

There are three ways of presenting it
## 1. Directly access our website
We have already deployed this application on an AliCloud Server. 
type http://47.93.184.215 to see. 
(ps: The beckend server is not running, so you can only see the interface and are unable to use the 3d facial rendering function at this time)

## 2. Run the code on local machine: 

###If there isn't a `node_module` package currently under the project folder, firstly run `yarn install` to install dependencies
### Then type `yarn start` in terminal under current project folder 

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits to the code.
You will also see any lint errors in the console.


## 3. Deploy the code on a server: 
This enables user to access the application externally.
###Server environment: 
CentOS Linux 7.6.1810 (Core) \
nginx: 1.18.0\
node.js: 12.21.0
### (1) Run `yarn install` to install dependencies
###(2) Run `yarn build` under this project folder

Builds the app for production to the `build` folder.\
It correctly bundles React in production mode and optimizes the build for the best performance.
The build is minified and the filenames include the hashes.\

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.


### (3) Install and configure nginx
nginx can be used as a high-performance HTTP proxy, which forwards between the request end and the web server. 
To install:
1) Download `nginx-1.18.10.tar.gz` to  `root` directory

2) Under `/usr/local/` path, create directory `nginx`\
`cd /usr/local/` \
`mkdir nginx`\
`cd nginx`

3) Unzip\
`[root@localhost nginx]# tar zxvf /root/nginx-1.17.10.tar.gz -C ./`

4) Install dependency\
`yum -y install pcre-devel`\
`yum -y install openssl openssl-devel`

5) Compile \
`cd nginx-1.18.10`\
`./configure`\
`make && make install`

### (3) Start
`[root@localhost sbin]# /usr/local/nginx/sbin/nginx`

### (4) Edit configuration file
Configure the nginx to map our static page to default 80 port
`vim /usr/local/nginx/conf/nginx.conf.default`\
edit:  identify the static page(generated by `yarn build`) path being forwarded
`server {
         listen       80;
          root /render;
         index index.html;
         #charset koi8-r;`
 
         #access_log  logs/host.access.log  main;
 
         location / {
             root   /render/build;
             index  index.html index.htm;
         }
         #error_page  404              /404.html;
 
         # redirect server error pages to the static page /50x.html
         #
         error_page   500 502 503 504  /50x.html;
         location = /50x.html {
             root   html;
         }
 
 ### (4) Reload nginx service
 `/usr/local/nginx/sbin/nginx -s reload`
Then we should be able to access the application outside the local machine, using the server's external IP address.
